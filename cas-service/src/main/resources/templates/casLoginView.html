<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>船舶海图资料智能服务系统</title>

    <link rel="shortcut icon" href="../static/images/logo.ico" th:href="@{/images/login.ico}">
    <link rel="stylesheet" href="../static/css/login.css" th:href="@{/css/login.css}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <script type="text/javascript" th:src="@{#{webjars.jquerymin.js}}"></script>
</head>

<body class="login">
<!-- 登录界面 -->
<div class="box">
    <img src="../static/images/title.png" th:src="@{/images/title.png}">
    <!--<input type="text" placeholder="请输入用户名">-->
    <!--<input type="password" placeholder="请输入密码">-->
    <form method="post" id="fm1" th:object="${credential}" action="login">
        <div class="error-container">
            <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}">
                <span th:each="err : ${#fields.errors('*')}" th:utext="${err}">Example error</span>
            </div>
        </div>

        <!--<h3 th:utext="#{screen.welcome.instructions}">Enter your Username and Password</h3>-->

        <section class="form-group">
            <!--<label for="username" th:utext="#{screen.welcome.label.netid}">Username</label>-->

            <div th:if="${openIdLocalId}">
                <strong>
                    <span th:utext="${openIdLocalId}"/>
                </strong>
                <input type="hidden"
                       id="username"
                       name="username"
                       th:value="${openIdLocalId}"/>
            </div>
            <div th:unless="${openIdLocalId}">
                <input class="form-control required"
                       id="username"
                       placeholder="请输入用户名"
                       size="25"
                       tabindex="1"
                       type="text"
                       th:disabled="${guaEnabled}"
                       th:field="*{username}"
                       th:accesskey="#{screen.welcome.label.netid.accesskey}"
                       autocomplete="off"/>
            </div>
        </section>

        <section class="form-group">
            <!--<label for="password" th:utext="#{screen.welcome.label.password}">Password</label>-->

            <div>
                <input class="form-control required"
                       type="password"
                       id="password"
                       placeholder="请输入密码"
                       size="25"
                       tabindex="2"
                       th:accesskey="#{screen.welcome.label.password.accesskey}"
                       th:field="*{password}"
                       autocomplete="off"/>
                <span id="capslock-on" style="display:none;">
                                <p>
                                    <i class="fa fa-exclamation-circle"></i>
                                    <span th:utext="#{screen.capslock.on}"/>
                                </p>
                            </span>
            </div>
        </section>

        <!--<section class="form-check" th:if="${passwordManagementEnabled && param.doChangePassword != null}">
            <p>
                <input type="checkbox" name="doChangePassword" id="doChangePassword"
                       value="true" th:checked="${param.doChangePassword != null}" tabindex="4"/>
                <label for="doChangePassword" th:text="#{screen.button.changePassword}">Change Password</label>
            </p>
        </section>

        <section class="form-check" th:if="${rememberMeAuthenticationEnabled}">
            <p>
                <input type="checkbox" name="rememberMe" id="rememberMe" value="true" tabindex="5"/>
                <label for="rememberMe" th:text="#{screen.rememberme.checkbox.title}">Remember Me</label>
            </p>
        </section>

        <section class="row" th:if="${recaptchaSiteKey != null AND recaptchaInvisible != null AND recaptchaSiteKey AND !recaptchaInvisible}">
            <div class="g-recaptcha" th:attr="data-sitekey=${recaptchaSiteKey}"/>
        </section>-->

        <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>
        <input type="hidden" name="_eventId" value="submit"/>
        <input type="hidden" name="geolocation"/>
        <input class="btn btn-block btn-submit"
               th:unless="${recaptchaSiteKey != null AND recaptchaInvisible != null AND recaptchaSiteKey AND recaptchaInvisible}"
               name="submit"
               accesskey="l"
               th:value="#{screen.welcome.button.login}"
               tabindex="6"
               type="submit"
               value="Login3"
        />
        <button class="btn btn-block btn-submit g-recaptcha"
                th:if="${recaptchaSiteKey != null AND recaptchaInvisible != null AND recaptchaSiteKey AND recaptchaInvisible}"
                th:attr="data-sitekey=${recaptchaSiteKey}, data-badge=${recaptchaPosition}"
                data-callback="onSubmit"
                name="submitBtn"
                accesskey="l"
                th:text="#{screen.welcome.button.login}"
                tabindex="6"
        />
    </form>

    <!--<button>登录</button>-->
    <p>建议使用Google Chrome、FireFox或IE10及以上版本 @Copyrights</p>
</div>
<!-- 语言切换 -->
<div class="language">
    <a class="select" href="javascript:void(0)">中文</a>
    <span> | </span>
    <a href="javascript:void(0)">English</a>
</div>

<script th:replace="fragments/scripts"/>

<script>
    $(function(){
        $('.language > a').on('click', function(){
            $(this).addClass('select').siblings('a').removeClass('select');
            if($('.language > .select').index()==0){
                $('.box > button').text('登录');
                $('.box > p').text('建议使用Google Chrome、FireFox或IE10及以上版本 @Copyrights');
            }else{
                $('.box > button').text('LOGIN');
                $('.box > p').text('It is recommended to use Google, Chrome, FireFox, or IE10 and above, @Copyrights');
            }
        })
    })
</script>
</body>
</html>
